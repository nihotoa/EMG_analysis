function makeVirtualChannel(pathname)
% Processの欄に、matlabコマンドを入力し最終的なYを出力データとします。
% Stringを定義するときは2回重ねたシングルクォーテーションで囲むことに注意してください。
% 使える変数は
%   pathname    = 作成したファイルが入っているフォルダ
% です。
% 
% see also loaddata

if(nargin<1)
    pathname    = [];
end

if(isempty(pathname))
    pathname    = getconfig(mfilename,'pathname');
    if(isempty(pathname)||~ischar(pathname))
        pathname    = pwd;
    end
    if(~exist(pathname,'dir'))
        pathname    = pwd;
    end
    
    pathname    = uigetdir(pathname);
    % [filename, pathname] = uiputfile(fullfile(pathname,filename));
    setconfig(mfilename,'pathname',pathname);
end

%% NaturePaperのMethod用
% EMG only
% filenames   ={'FDI(uV)-ds1000Hz-bss-hp50Hz-rect-lp20Hz-ls100ms-ds100Hz-nn-trim(0-480s)-norm(mean).mat',...
%     'ADP(uV)-ds1000Hz-bss-hp50Hz-rect-lp20Hz-ls100ms-ds100Hz-nn-trim(0-480s)-norm(mean).mat',...
%     'AbPB(uV)-ds1000Hz-bss-hp50Hz-rect-lp20Hz-ls100ms-ds100Hz-nn-trim(0-480s)-norm(mean).mat',...
%     'AbDM(uV)-ds1000Hz-bss-hp50Hz-rect-lp20Hz-ls100ms-ds100Hz-nn-trim(0-480s)-norm(mean).mat',...
%     'FDS(uV)-ds1000Hz-bss-hp50Hz-rect-lp20Hz-ls100ms-ds100Hz-nn-trim(0-480s)-norm(mean).mat',...
%     'FDPr(uV)-ds1000Hz-bss-hp50Hz-rect-lp20Hz-ls100ms-ds100Hz-nn-trim(0-480s)-norm(mean).mat',...
%     'FDPu(uV)-ds1000Hz-bss-hp50Hz-rect-lp20Hz-ls100ms-ds100Hz-nn-trim(0-480s)-norm(mean).mat',...
%     'FCR(uV)-ds1000Hz-bss-hp50Hz-rect-lp20Hz-ls100ms-ds100Hz-nn-trim(0-480s)-norm(mean).mat',...
%     'FCU(uV)-ds1000Hz-bss-hp50Hz-rect-lp20Hz-ls100ms-ds100Hz-nn-trim(0-480s)-norm(mean).mat',...
%     'ED23(uV)-ds1000Hz-bss-hp50Hz-rect-lp20Hz-ls100ms-ds100Hz-nn-trim(0-480s)-norm(mean).mat',...
%     'EDC(uV)-ds1000Hz-bss-hp50Hz-rect-lp20Hz-ls100ms-ds100Hz-nn-trim(0-480s)-norm(mean).mat',...
%     'ECU(uV)-ds1000Hz-bss-hp50Hz-rect-lp20Hz-ls100ms-ds100Hz-nn-trim(0-480s)-norm(mean).mat',...
%     'FDI(uV)-ds1000Hz-bss-hp50Hz-rect-lp20Hz-ls100ms-ds100Hz-nn-trim(0-480s)-norm(mean)-NMF03-component01-meanW.mat',...
%     'ADP(uV)-ds1000Hz-bss-hp50Hz-rect-lp20Hz-ls100ms-ds100Hz-nn-trim(0-480s)-norm(mean)-NMF03-component01-meanW.mat',...
%     'AbPB(uV)-ds1000Hz-bss-hp50Hz-rect-lp20Hz-ls100ms-ds100Hz-nn-trim(0-480s)-norm(mean)-NMF03-component01-meanW.mat',...
%     'AbDM(uV)-ds1000Hz-bss-hp50Hz-rect-lp20Hz-ls100ms-ds100Hz-nn-trim(0-480s)-norm(mean)-NMF03-component01-meanW.mat',...
%     'FDS(uV)-ds1000Hz-bss-hp50Hz-rect-lp20Hz-ls100ms-ds100Hz-nn-trim(0-480s)-norm(mean)-NMF03-component01-meanW.mat',...
%     'FDPr(uV)-ds1000Hz-bss-hp50Hz-rect-lp20Hz-ls100ms-ds100Hz-nn-trim(0-480s)-norm(mean)-NMF03-component01-meanW.mat',...
%     'FDPu(uV)-ds1000Hz-bss-hp50Hz-rect-lp20Hz-ls100ms-ds100Hz-nn-trim(0-480s)-norm(mean)-NMF03-component01-meanW.mat',...
%     'FCR(uV)-ds1000Hz-bss-hp50Hz-rect-lp20Hz-ls100ms-ds100Hz-nn-trim(0-480s)-norm(mean)-NMF03-component01-meanW.mat',...
%     'FCU(uV)-ds1000Hz-bss-hp50Hz-rect-lp20Hz-ls100ms-ds100Hz-nn-trim(0-480s)-norm(mean)-NMF03-component01-meanW.mat',...
%     'ED23(uV)-ds1000Hz-bss-hp50Hz-rect-lp20Hz-ls100ms-ds100Hz-nn-trim(0-480s)-norm(mean)-NMF03-component01-meanW.mat',...
%     'EDC(uV)-ds1000Hz-bss-hp50Hz-rect-lp20Hz-ls100ms-ds100Hz-nn-trim(0-480s)-norm(mean)-NMF03-component01-meanW.mat',...
%     'ECU(uV)-ds1000Hz-bss-hp50Hz-rect-lp20Hz-ls100ms-ds100Hz-nn-trim(0-480s)-norm(mean)-NMF03-component01-meanW.mat',...
%     'FDI(uV)-ds1000Hz-bss-hp50Hz-rect-lp20Hz-ls100ms-ds100Hz-nn-trim(0-480s)-norm(mean)-NMF03-component02-meanW.mat',...
%     'ADP(uV)-ds1000Hz-bss-hp50Hz-rect-lp20Hz-ls100ms-ds100Hz-nn-trim(0-480s)-norm(mean)-NMF03-component02-meanW.mat',...
%     'AbPB(uV)-ds1000Hz-bss-hp50Hz-rect-lp20Hz-ls100ms-ds100Hz-nn-trim(0-480s)-norm(mean)-NMF03-component02-meanW.mat',...
%     'AbDM(uV)-ds1000Hz-bss-hp50Hz-rect-lp20Hz-ls100ms-ds100Hz-nn-trim(0-480s)-norm(mean)-NMF03-component02-meanW.mat',...
%     'FDS(uV)-ds1000Hz-bss-hp50Hz-rect-lp20Hz-ls100ms-ds100Hz-nn-trim(0-480s)-norm(mean)-NMF03-component02-meanW.mat',...
%     'FDPr(uV)-ds1000Hz-bss-hp50Hz-rect-lp20Hz-ls100ms-ds100Hz-nn-trim(0-480s)-norm(mean)-NMF03-component02-meanW.mat',...
%     'FDPu(uV)-ds1000Hz-bss-hp50Hz-rect-lp20Hz-ls100ms-ds100Hz-nn-trim(0-480s)-norm(mean)-NMF03-component02-meanW.mat',...
%     'FCR(uV)-ds1000Hz-bss-hp50Hz-rect-lp20Hz-ls100ms-ds100Hz-nn-trim(0-480s)-norm(mean)-NMF03-component02-meanW.mat',...
%     'FCU(uV)-ds1000Hz-bss-hp50Hz-rect-lp20Hz-ls100ms-ds100Hz-nn-trim(0-480s)-norm(mean)-NMF03-component02-meanW.mat',...
%     'ED23(uV)-ds1000Hz-bss-hp50Hz-rect-lp20Hz-ls100ms-ds100Hz-nn-trim(0-480s)-norm(mean)-NMF03-component02-meanW.mat',...
%     'EDC(uV)-ds1000Hz-bss-hp50Hz-rect-lp20Hz-ls100ms-ds100Hz-nn-trim(0-480s)-norm(mean)-NMF03-component02-meanW.mat',...
%     'ECU(uV)-ds1000Hz-bss-hp50Hz-rect-lp20Hz-ls100ms-ds100Hz-nn-trim(0-480s)-norm(mean)-NMF03-component02-meanW.mat',...
%     'FDI(uV)-ds1000Hz-bss-hp50Hz-rect-lp20Hz-ls100ms-ds100Hz-nn-trim(0-480s)-norm(mean)-NMF03-component03-meanW.mat',...
%     'ADP(uV)-ds1000Hz-bss-hp50Hz-rect-lp20Hz-ls100ms-ds100Hz-nn-trim(0-480s)-norm(mean)-NMF03-component03-meanW.mat',...
%     'AbPB(uV)-ds1000Hz-bss-hp50Hz-rect-lp20Hz-ls100ms-ds100Hz-nn-trim(0-480s)-norm(mean)-NMF03-component03-meanW.mat',...
%     'AbDM(uV)-ds1000Hz-bss-hp50Hz-rect-lp20Hz-ls100ms-ds100Hz-nn-trim(0-480s)-norm(mean)-NMF03-component03-meanW.mat',...
%     'FDS(uV)-ds1000Hz-bss-hp50Hz-rect-lp20Hz-ls100ms-ds100Hz-nn-trim(0-480s)-norm(mean)-NMF03-component03-meanW.mat',...
%     'FDPr(uV)-ds1000Hz-bss-hp50Hz-rect-lp20Hz-ls100ms-ds100Hz-nn-trim(0-480s)-norm(mean)-NMF03-component03-meanW.mat',...
%     'FDPu(uV)-ds1000Hz-bss-hp50Hz-rect-lp20Hz-ls100ms-ds100Hz-nn-trim(0-480s)-norm(mean)-NMF03-component03-meanW.mat',...
%     'FCR(uV)-ds1000Hz-bss-hp50Hz-rect-lp20Hz-ls100ms-ds100Hz-nn-trim(0-480s)-norm(mean)-NMF03-component03-meanW.mat',...
%     'FCU(uV)-ds1000Hz-bss-hp50Hz-rect-lp20Hz-ls100ms-ds100Hz-nn-trim(0-480s)-norm(mean)-NMF03-component03-meanW.mat',...
%     'ED23(uV)-ds1000Hz-bss-hp50Hz-rect-lp20Hz-ls100ms-ds100Hz-nn-trim(0-480s)-norm(mean)-NMF03-component03-meanW.mat',...
%     'EDC(uV)-ds1000Hz-bss-hp50Hz-rect-lp20Hz-ls100ms-ds100Hz-nn-trim(0-480s)-norm(mean)-NMF03-component03-meanW.mat',...
%     'ECU(uV)-ds1000Hz-bss-hp50Hz-rect-lp20Hz-ls100ms-ds100Hz-nn-trim(0-480s)-norm(mean)-NMF03-component03-meanW.mat',...
%     'FDI(uV)-ds1000Hz-bss-hp50Hz-rect-lp20Hz-ls100ms-ds100Hz-nn-trim(0-480s)-norm(mean)-NMF03-reconst-meanW.mat',...
%     'ADP(uV)-ds1000Hz-bss-hp50Hz-rect-lp20Hz-ls100ms-ds100Hz-nn-trim(0-480s)-norm(mean)-NMF03-reconst-meanW.mat',...
%     'AbPB(uV)-ds1000Hz-bss-hp50Hz-rect-lp20Hz-ls100ms-ds100Hz-nn-trim(0-480s)-norm(mean)-NMF03-reconst-meanW.mat',...
%     'AbDM(uV)-ds1000Hz-bss-hp50Hz-rect-lp20Hz-ls100ms-ds100Hz-nn-trim(0-480s)-norm(mean)-NMF03-reconst-meanW.mat',...
%     'FDS(uV)-ds1000Hz-bss-hp50Hz-rect-lp20Hz-ls100ms-ds100Hz-nn-trim(0-480s)-norm(mean)-NMF03-reconst-meanW.mat',...
%     'FDPr(uV)-ds1000Hz-bss-hp50Hz-rect-lp20Hz-ls100ms-ds100Hz-nn-trim(0-480s)-norm(mean)-NMF03-reconst-meanW.mat',...
%     'FDPu(uV)-ds1000Hz-bss-hp50Hz-rect-lp20Hz-ls100ms-ds100Hz-nn-trim(0-480s)-norm(mean)-NMF03-reconst-meanW.mat',...
%     'FCR(uV)-ds1000Hz-bss-hp50Hz-rect-lp20Hz-ls100ms-ds100Hz-nn-trim(0-480s)-norm(mean)-NMF03-reconst-meanW.mat',...
%     'FCU(uV)-ds1000Hz-bss-hp50Hz-rect-lp20Hz-ls100ms-ds100Hz-nn-trim(0-480s)-norm(mean)-NMF03-reconst-meanW.mat',...
%     'ED23(uV)-ds1000Hz-bss-hp50Hz-rect-lp20Hz-ls100ms-ds100Hz-nn-trim(0-480s)-norm(mean)-NMF03-reconst-meanW.mat',...
%     'EDC(uV)-ds1000Hz-bss-hp50Hz-rect-lp20Hz-ls100ms-ds100Hz-nn-trim(0-480s)-norm(mean)-NMF03-reconst-meanW.mat',...
%     'ECU(uV)-ds1000Hz-bss-hp50Hz-rect-lp20Hz-ls100ms-ds100Hz-nn-trim(0-480s)-norm(mean)-NMF03-reconst-meanW.mat',...
%     'NMFH03-01-meanW.mat'...
%     'NMFH03-02-meanW.mat'...
%     'NMFH03-03-meanW.mat'...
%     };

% PreM-INs 
filenames   ={'FDI(uV)-ds1000Hz-bss-hp50Hz-rect-lp20Hz-ls100ms-ds100Hz-nn-norm(mean).mat',...
    'ADP(uV)-ds1000Hz-bss-hp50Hz-rect-lp20Hz-ls100ms-ds100Hz-nn-norm(mean).mat',...
    'AbPB(uV)-ds1000Hz-bss-hp50Hz-rect-lp20Hz-ls100ms-ds100Hz-nn-norm(mean).mat',...
    'AbDM(uV)-ds1000Hz-bss-hp50Hz-rect-lp20Hz-ls100ms-ds100Hz-nn-norm(mean).mat',...
    'FDS(uV)-ds1000Hz-bss-hp50Hz-rect-lp20Hz-ls100ms-ds100Hz-nn-norm(mean).mat',...
    'FDPr(uV)-ds1000Hz-bss-hp50Hz-rect-lp20Hz-ls100ms-ds100Hz-nn-norm(mean).mat',...
    'FDPu(uV)-ds1000Hz-bss-hp50Hz-rect-lp20Hz-ls100ms-ds100Hz-nn-norm(mean).mat',...
    'FCR(uV)-ds1000Hz-bss-hp50Hz-rect-lp20Hz-ls100ms-ds100Hz-nn-norm(mean).mat',...
    'FCU(uV)-ds1000Hz-bss-hp50Hz-rect-lp20Hz-ls100ms-ds100Hz-nn-norm(mean).mat',...
    'ED23(uV)-ds1000Hz-bss-hp50Hz-rect-lp20Hz-ls100ms-ds100Hz-nn-norm(mean).mat',...
    'EDC(uV)-ds1000Hz-bss-hp50Hz-rect-lp20Hz-ls100ms-ds100Hz-nn-norm(mean).mat',...
    'ECU(uV)-ds1000Hz-bss-hp50Hz-rect-lp20Hz-ls100ms-ds100Hz-nn-norm(mean).mat',...
    'FDI(uV)-ds1000Hz-bss-hp50Hz-rect-lp20Hz-ls100ms-ds100Hz-nn-norm(mean)-NMF03-component01-meanW.mat',...
    'ADP(uV)-ds1000Hz-bss-hp50Hz-rect-lp20Hz-ls100ms-ds100Hz-nn-norm(mean)-NMF03-component01-meanW.mat',...
    'AbPB(uV)-ds1000Hz-bss-hp50Hz-rect-lp20Hz-ls100ms-ds100Hz-nn-norm(mean)-NMF03-component01-meanW.mat',...
    'AbDM(uV)-ds1000Hz-bss-hp50Hz-rect-lp20Hz-ls100ms-ds100Hz-nn-norm(mean)-NMF03-component01-meanW.mat',...
    'FDS(uV)-ds1000Hz-bss-hp50Hz-rect-lp20Hz-ls100ms-ds100Hz-nn-norm(mean)-NMF03-component01-meanW.mat',...
    'FDPr(uV)-ds1000Hz-bss-hp50Hz-rect-lp20Hz-ls100ms-ds100Hz-nn-norm(mean)-NMF03-component01-meanW.mat',...
    'FDPu(uV)-ds1000Hz-bss-hp50Hz-rect-lp20Hz-ls100ms-ds100Hz-nn-norm(mean)-NMF03-component01-meanW.mat',...
    'FCR(uV)-ds1000Hz-bss-hp50Hz-rect-lp20Hz-ls100ms-ds100Hz-nn-norm(mean)-NMF03-component01-meanW.mat',...
    'FCU(uV)-ds1000Hz-bss-hp50Hz-rect-lp20Hz-ls100ms-ds100Hz-nn-norm(mean)-NMF03-component01-meanW.mat',...
    'ED23(uV)-ds1000Hz-bss-hp50Hz-rect-lp20Hz-ls100ms-ds100Hz-nn-norm(mean)-NMF03-component01-meanW.mat',...
    'EDC(uV)-ds1000Hz-bss-hp50Hz-rect-lp20Hz-ls100ms-ds100Hz-nn-norm(mean)-NMF03-component01-meanW.mat',...
    'ECU(uV)-ds1000Hz-bss-hp50Hz-rect-lp20Hz-ls100ms-ds100Hz-nn-norm(mean)-NMF03-component01-meanW.mat',...
    'FDI(uV)-ds1000Hz-bss-hp50Hz-rect-lp20Hz-ls100ms-ds100Hz-nn-norm(mean)-NMF03-component02-meanW.mat',...
    'ADP(uV)-ds1000Hz-bss-hp50Hz-rect-lp20Hz-ls100ms-ds100Hz-nn-norm(mean)-NMF03-component02-meanW.mat',...
    'AbPB(uV)-ds1000Hz-bss-hp50Hz-rect-lp20Hz-ls100ms-ds100Hz-nn-norm(mean)-NMF03-component02-meanW.mat',...
    'AbDM(uV)-ds1000Hz-bss-hp50Hz-rect-lp20Hz-ls100ms-ds100Hz-nn-norm(mean)-NMF03-component02-meanW.mat',...
    'FDS(uV)-ds1000Hz-bss-hp50Hz-rect-lp20Hz-ls100ms-ds100Hz-nn-norm(mean)-NMF03-component02-meanW.mat',...
    'FDPr(uV)-ds1000Hz-bss-hp50Hz-rect-lp20Hz-ls100ms-ds100Hz-nn-norm(mean)-NMF03-component02-meanW.mat',...
    'FDPu(uV)-ds1000Hz-bss-hp50Hz-rect-lp20Hz-ls100ms-ds100Hz-nn-norm(mean)-NMF03-component02-meanW.mat',...
    'FCR(uV)-ds1000Hz-bss-hp50Hz-rect-lp20Hz-ls100ms-ds100Hz-nn-norm(mean)-NMF03-component02-meanW.mat',...
    'FCU(uV)-ds1000Hz-bss-hp50Hz-rect-lp20Hz-ls100ms-ds100Hz-nn-norm(mean)-NMF03-component02-meanW.mat',...
    'ED23(uV)-ds1000Hz-bss-hp50Hz-rect-lp20Hz-ls100ms-ds100Hz-nn-norm(mean)-NMF03-component02-meanW.mat',...
    'EDC(uV)-ds1000Hz-bss-hp50Hz-rect-lp20Hz-ls100ms-ds100Hz-nn-norm(mean)-NMF03-component02-meanW.mat',...
    'ECU(uV)-ds1000Hz-bss-hp50Hz-rect-lp20Hz-ls100ms-ds100Hz-nn-norm(mean)-NMF03-component02-meanW.mat',...
    'FDI(uV)-ds1000Hz-bss-hp50Hz-rect-lp20Hz-ls100ms-ds100Hz-nn-norm(mean)-NMF03-component03-meanW.mat',...
    'ADP(uV)-ds1000Hz-bss-hp50Hz-rect-lp20Hz-ls100ms-ds100Hz-nn-norm(mean)-NMF03-component03-meanW.mat',...
    'AbPB(uV)-ds1000Hz-bss-hp50Hz-rect-lp20Hz-ls100ms-ds100Hz-nn-norm(mean)-NMF03-component03-meanW.mat',...
    'AbDM(uV)-ds1000Hz-bss-hp50Hz-rect-lp20Hz-ls100ms-ds100Hz-nn-norm(mean)-NMF03-component03-meanW.mat',...
    'FDS(uV)-ds1000Hz-bss-hp50Hz-rect-lp20Hz-ls100ms-ds100Hz-nn-norm(mean)-NMF03-component03-meanW.mat',...
    'FDPr(uV)-ds1000Hz-bss-hp50Hz-rect-lp20Hz-ls100ms-ds100Hz-nn-norm(mean)-NMF03-component03-meanW.mat',...
    'FDPu(uV)-ds1000Hz-bss-hp50Hz-rect-lp20Hz-ls100ms-ds100Hz-nn-norm(mean)-NMF03-component03-meanW.mat',...
    'FCR(uV)-ds1000Hz-bss-hp50Hz-rect-lp20Hz-ls100ms-ds100Hz-nn-norm(mean)-NMF03-component03-meanW.mat',...
    'FCU(uV)-ds1000Hz-bss-hp50Hz-rect-lp20Hz-ls100ms-ds100Hz-nn-norm(mean)-NMF03-component03-meanW.mat',...
    'ED23(uV)-ds1000Hz-bss-hp50Hz-rect-lp20Hz-ls100ms-ds100Hz-nn-norm(mean)-NMF03-component03-meanW.mat',...
    'EDC(uV)-ds1000Hz-bss-hp50Hz-rect-lp20Hz-ls100ms-ds100Hz-nn-norm(mean)-NMF03-component03-meanW.mat',...
    'ECU(uV)-ds1000Hz-bss-hp50Hz-rect-lp20Hz-ls100ms-ds100Hz-nn-norm(mean)-NMF03-component03-meanW.mat',...
    'FDI(uV)-ds1000Hz-bss-hp50Hz-rect-lp20Hz-ls100ms-ds100Hz-nn-norm(mean)-NMF03-reconst-meanW.mat',...
    'ADP(uV)-ds1000Hz-bss-hp50Hz-rect-lp20Hz-ls100ms-ds100Hz-nn-norm(mean)-NMF03-reconst-meanW.mat',...
    'AbPB(uV)-ds1000Hz-bss-hp50Hz-rect-lp20Hz-ls100ms-ds100Hz-nn-norm(mean)-NMF03-reconst-meanW.mat',...
    'AbDM(uV)-ds1000Hz-bss-hp50Hz-rect-lp20Hz-ls100ms-ds100Hz-nn-norm(mean)-NMF03-reconst-meanW.mat',...
    'FDS(uV)-ds1000Hz-bss-hp50Hz-rect-lp20Hz-ls100ms-ds100Hz-nn-norm(mean)-NMF03-reconst-meanW.mat',...
    'FDPr(uV)-ds1000Hz-bss-hp50Hz-rect-lp20Hz-ls100ms-ds100Hz-nn-norm(mean)-NMF03-reconst-meanW.mat',...
    'FDPu(uV)-ds1000Hz-bss-hp50Hz-rect-lp20Hz-ls100ms-ds100Hz-nn-norm(mean)-NMF03-reconst-meanW.mat',...
    'FCR(uV)-ds1000Hz-bss-hp50Hz-rect-lp20Hz-ls100ms-ds100Hz-nn-norm(mean)-NMF03-reconst-meanW.mat',...
    'FCU(uV)-ds1000Hz-bss-hp50Hz-rect-lp20Hz-ls100ms-ds100Hz-nn-norm(mean)-NMF03-reconst-meanW.mat',...
    'ED23(uV)-ds1000Hz-bss-hp50Hz-rect-lp20Hz-ls100ms-ds100Hz-nn-norm(mean)-NMF03-reconst-meanW.mat',...
    'EDC(uV)-ds1000Hz-bss-hp50Hz-rect-lp20Hz-ls100ms-ds100Hz-nn-norm(mean)-NMF03-reconst-meanW.mat',...
    'ECU(uV)-ds1000Hz-bss-hp50Hz-rect-lp20Hz-ls100ms-ds100Hz-nn-norm(mean)-NMF03-reconst-meanW.mat',...
    'NMFH03-01-meanW.mat'...
    'NMFH03-02-meanW.mat'...
    'NMFH03-03-meanW.mat'...
    };

% filenames   ={'NMFH03-01-meanW.mat'...
%     'NMFH03-02-meanW.mat'...
%     'NMFH03-03-meanW.mat'...
%     };

nfile   = length(filenames);

for ifile=1:nfile
    
    S.Class         = 'virtual channel';
    S.Process       = ['Y=loaddata(fullfile(pathname,''',filenames{ifile},'''));',...
        'Y=makeContinuousChannel([deext(Y.Name),''-lp1Hz''], ''butter'', Y,''low'', 2, 1, ''normal'');'];
    S.Name          = [deext(filenames{ifile}),'-lp1Hz'];
    filename    = [S.Name,'.mat'];
    save(fullfile(pathname,filename),'-struct','S');
    disp(fullfile(pathname,filename));
end




%% %%%%%%%%%%%%%%%%%%%
% S.Class         = 'virtual channel';
% S.Process       = ['Y=loaddata(fullfile(pathname,''130.mat''));',...
%     'Y.Data=Y.Data-mean(Y.Data([1:Y.SampleRate,(end-Y.SampleRate):end]));'];
% S.Name          = 'Force';
% filename    = [S.Name,'.mat'];
% save(fullfile(pathname,filename),'-struct','S');
% disp(fullfile(pathname,filename));
% 
% 
% 
% 
% S.Class         = 'virtual channel';
% S.Process       = ['Y=loaddata(fullfile(pathname,''129.mat''));',...
%     'Y=makeContinuousChannel([], ''butter'',Y,''high'', 2, 1,''both'');',...
%     'Y=makeContinuousChannel([], ''rectify'',Y);'];
% S.Name          = 'lADPl';
% filename    = [S.Name,'.mat'];
% save(fullfile(pathname,filename),'-struct','S');
% disp(fullfile(pathname,filename));
% 
% 
% S.Class         = 'virtual channel';
% S.Process       = 'Y=loaddata(fullfile(pathname,''digin02.mat''));';
% S.Name          = 'Stim pulse';
% filename    = [S.Name,'.mat'];
% save(fullfile(pathname,filename),'-struct','S');
% disp(fullfile(pathname,filename));
% 
% 
% S.Class         = 'virtual channel';
% S.Process       = ['Y=loaddata(fullfile(pathname,''digin04.mat''));',...
%     'Y=makeTimeStampChannel([], ''stimulus parameter'',Y);'];
% S.Name          = 'Stim ID';
% filename    = [S.Name,'.mat'];
% save(fullfile(pathname,filename),'-struct','S');
% disp(fullfile(pathname,filename));


%% for Chripon 2010/12/21
% Pairs   ={'Ch1','10000';...
%     'Ch2','01000';...
%     'Ch12','11000';...
%     'Ch3','00100';...
%     'Ch13','10100';...
%     'Ch23','01100';...
%     'Ch123','11100';...
%     'Ch4','00010';...
%     'Ch14','10010';...
%     'Ch24','01010';...
%     'Ch124','11010';...
%     'Ch34','00110';...
%     'Ch134','10110';...
%     'Ch234','01110';...
%     'Ch1234','11110';...
%     'Ch5','00001';...
%     'Ch15','10001';...
%     'Ch25','01001';...
%     'Ch125','11001';...
%     'Ch35','00101';...
%     'Ch135','10101';...
%     'Ch235','01101';...
%     'Ch1235','11101';...
%     'Ch45','00011';...
%     'Ch145','10011';...
%     'Ch245','01011';...
%     'Ch1245','11011';...
%     'Ch345','00111';...
%     'Ch1345','10111';...
%     'Ch2345','01111';...
%     'Ch12345','11111'};

%% for Chripon 2010/12/24
% Pairs   ={'Ch1','10000';...
%     'Ch2','01000';...
%     'Ch3','00100';...
%     'Ch4','00010';...
%     'Ch5','00001';...
%     'Ch12345','11111'};

%% for Chripon 2010/12/27
% Pairs   ={'SC','1111100';...
%     'ADP','0000010'};
% 
% 
% %%
% nPair   = length(Pairs);
% 
% 
% for iPair=1:nPair
%     Name    = Pairs{iPair,1};
%     Ch      = Pairs{iPair,2};
%     S.Class         = 'virtual channel';
%     S.Process       = ['Y=loaddata(fullfile(pathname,''Stim ID.mat''));',...
%         'Y=filterTimestampChannel([],''accessory data equal'',Y,''Relay1'',',Ch(1),',''Relay2'',',Ch(2),',''Relay3'',',Ch(3),',''Relay4'',',Ch(4),',''Relay5'',',Ch(5),');'];
%     S.Name          = ['Train(',Name,')'];
%     filename    = [S.Name,'.mat'];
%     save(fullfile(pathname,filename),'-struct','S');
%     disp(fullfile(pathname,filename));
%     
% end
